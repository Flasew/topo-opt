<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Graph Demo</title>
  <style>
    p {
      text-align: center;
      font-size: x-large;
      font-family: 'Courier New', Courier, monospace;
    }
    #menu {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
      font-family: Arial, Helvetica, sans-serif;
      font-size: 18px;
    }
    
    /* Style the menu button */
    #menu button {
      background-color: #2c7873;
      color: #fff;
      border: none;
      padding: 10px;
      font-size: 18px;
      cursor: pointer;
      margin-right: 10px;
      border-radius: 10px; /* add this line */
    }
    
    /* Style the menu dropdown */
    #menu select {
      font-size: 18px;
      padding: 10px;
      border: none;
      margin-right: 10px;
    }
    
    /* Style the menu submit button */
    #menu input[type="submit"] {
      background-color: #2c7873;
      color: #fff;
      border: none;
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }

    /* turn it off completely */
    select:active, select:hover {
      outline: none
    }

    /* make it red instead (with with same width and style) */
    select:active, select:hover {
      outline-color: red
    }
    
    <!-- /* Style the submit button */
    #submit-button {
      margin-left: 10px;
    } -->
    
    

    /* Set the display to flex and specify the direction to be horizontal */
    #visualization {
      display: flex;
      flex-direction: row;
      justify-content: space-evenly;
      align-items: center;
    }
  
    /* Set the width of each element to be equal */
    #graph,
    #heatmap,
    #image {
      width: 33%;
      display: inline-block;
    }
  
    #graph,
    #heatmap {
      height: auto;
    }
  
    #image {
      height: 100%;
      text-align: center;
    }
  
    #image img {
      max-width: 100%;
      height: auto;
    }
  </style>
  
  
      
  </head>
  <body>
    <div id="menu">
      <form id="menu-form">
        <label for="dnn-model">DNN Model:</label>
        <select id="dnn-model" name="dnn-model">
          <option value="DLRM">DLRM</option>
          <option value="NCF" selected>NCF</option>
        </select>
        <label for="cluster-size">Cluster Size:</label>
        <select id="cluster-size" name="cluster-size">
          <option value="16">16</option>
          <option value="128" selected>128</option>
        </select>
        <label for="node-degree">Node Degree:</label>
        <select id="node-degree" name="node-degree">
          <option value="4" selected>4</option>
          <option value="8">8</option>
        </select>
        <button type="submit">Submit</button>
      </form>
    </div>
    <div id="visualization"></div>
      <div id="graph"></div>
      <script src="https://d3js.org/d3.v4.js"></script>
      <script src="graph.js"></script>
      <div id="heatmap"></div>
      <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
      <script src="heatmap.js"></script>
      <div id="image"><img src="ncf.png" alt="NCF Model"></div>
    </div> <br>
    <div id="iter_time" style="border: 4px solid rgba(2, 76, 89, 0.852); width:700px; margin:0 auto;">
      <p><b>TopoOpt iteration time: 56.9 ms</b></p></div><br>
    <div id="iter_time" style="border: 4px solid rgba(2, 76, 89, 0.852); width:700px; margin:0 auto;">
      <p><b>Fat-Tree iteration time: 119.0 ms</b></p></div><br>
    <div id="iter_time" style="border: 4px solid rgba(2, 76, 89, 0.852); width:700px; margin:0 auto;">
      <p><b>Speed up: 2</b></p></div>
    <script>
      // Get references to the form and its elements
      const form = document.getElementById('menu-form');
      const dnnModelSelect = document.getElementById('dnn-model');
      const clusterSizeSelect = document.getElementById('cluster-size');
      const nodeDegreeSelect = document.getElementById('node-degree');

      // Add event listener to the form
      form.addEventListener('submit', (event) => {
        // Prevent the default form submission behavior
        event.preventDefault();

        // Get the values of the selected options
        const dnnModel = dnnModelSelect.value;
        const clusterSize = clusterSizeSelect.value;
        const nodeDegree = nodeDegreeSelect.value;

        const queryString = `/demo/${dnnModel}-${clusterSize}-${nodeDegree}`;

        // Get the base URL of the current page
        const baseUrl = window.location.origin;

        // Construct the new URL with the query string and redirect the user
        const newUrl = baseUrl + queryString;
        window.location.href = newUrl;
      });
    </script>
  </body>
</html>
